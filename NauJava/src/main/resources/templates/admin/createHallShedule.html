<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Создание расписания зала</title>
</head>
<body>
<h1>Создание расписания зала</h1>

<form action="#" th:action="@{/admin/hallShedules/create}" method="post">
    <label for="film">Фильм:</label>
    <select id="film" name="filmId" required>
        <option th:each="film : ${films}" th:value="${film.id}" th:text="${film.title}"></option>
    </select>

    <label for="hall">Зал:</label>
    <select id="hall" name="hallId" required>
        <option th:each="hall : ${halls}" th:value="${hall.id}" th:text="${hall.name}"></option>
    </select>

    <label>Даты:</label>
    <div id="date-container">
        <div>
            <input type="date" name="dates" required />
            <button type="button" onclick="removeField(this)">Удалить</button>
        </div>
    </div>
    <button type="button" onclick="addDateField()">Добавить дату</button>

    <label>Время:</label>
    <div id="time-container">
        <div>
            <input type="time" name="times" required />
            <button type="button" onclick="removeField(this)">Удалить</button>
        </div>
    </div>
    <button type="button" onclick="addTimeField()">Добавить время</button>

    <button type="submit">Создать расписание</button>
</form>

<script>
    function addDateField() {
        const container = document.getElementById("date-container");
        const div = document.createElement("div");
        div.innerHTML = '<input type="date" name="dates" required /> <button type="button" onclick="removeField(this)">Удалить</button>';
        container.appendChild(div);
    }

    function addTimeField() {
        const container = document.getElementById("time-container");
        const div = document.createElement("div");
        div.innerHTML = '<input type="time" name="times" required /> <button type="button" onclick="removeField(this)">Удалить</button>';
        container.appendChild(div);
    }

    function removeField(button) {
        const container = button.parentNode;
        container.remove();
    }
</script>

<a href="/admin/hallShedules">Вернуться к расписаниям</a>
</body>
</html>
