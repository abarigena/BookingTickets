
# Система бронирования билетов для кинотеатра

## Описание

Для запуска проекта выполните следующие шаги:

1. Перейдите в корневую папку проекта.
2. Введите команду:
   ```bash
   docker-compose up --build
   ```
3. После приложение будет доступно по [localhost](http://localhost:8080/login) 
4. Чтобы остановить проект, выполните команду:
   ```bash
   docker-compose down
   ```
---

## Выдача роли администратора
Чтобы выдать пользователю роль администратора, выполните следующие шаги:

1. Подключитесь к контейнеру PostgreSQL:
   ```bash
   docker exec -it naujava-postgres-1 psql -U postgres
   ```

2. Переключитесь на базу данных `bookingdb`:
   ```bash
   \c bookingdb
   ```

3. Просмотрите список всех таблиц в базе данных:
   ```bash
    \dt
   ```
  
4. Найдите пользователя по имени:
   ```bash
   SELECT id, username FROM users WHERE username = 'имя_пользователя';  
    ```
   Замените `'имя_пользователя'` на имя нужного пользователя.

5. Добавьте роль `ADMIN` для найденного пользователя:
    ```bash
   INSERT INTO user_roles (user_id, user_role)  
   VALUES (нужный_id_пользователя, 'ADMIN');  
    ```
   Замените `нужный_id_пользователя` на соответствующий `id` пользователя.

7. Убедитесь, что данные успешно добавлены:
    ```bash
   SELECT * FROM user_roles WHERE user_id = нужный_id_пользователя;  
    ```
---

## Как использовать проект

### Регистрация

1. Перейдите на страницу [http://localhost:8080/login](http://localhost:8080/login).
2. Нажмите кнопку **"Зарегистрироваться"**.
3. На странице регистрации:
   - Введите имя пользователя, пароль и адрес электронной почты.
   - Нажмите кнопку **"Зарегистрироваться"**.

### Главная страница

На главной странице доступны:
- **Выбор дня** для просмотра фильмов и бронирования билетов.
- **Кнопка "Профиль"** для просмотра и изменения данных пользователя.
- **Кнопка "Перейти на страницу администрирования"** (доступна только для администратора).
- Расписание сеансов в активных залах.

---

### Страница профиля

На странице профиля доступны следующие функции:
- Изменение данных пользователя, включая пароль.
- **Кнопка "Выход"** для выхода из аккаунта.
- **Кнопка "Актуальные билеты"** — просмотр забронированных билетов на сеансы, которые еще не прошли.
- **Кнопка "История билетов"** — просмотр истории бронирований.

---

### Панель администратора

На панели администратора доступны следующие функции:
1. **Управление расписаниями сеансов показа**:
   - Добавление, редактирование и удаление расписаний.
2. **Управление залами**:
   - Создание новых залов и управление их характеристиками.
3. **Управление фильмами**:
   - Добавление, редактирование и удаление фильмов.
4. **Управление бронированиями**:
   - Поиск активных билетов по пользователю.
   - Отмена бронирований при необходимости.
5. **Создание отчетов**:
   - Отчет по забронированным билетам за период.
   - Отчет по отмененным билетам за период.
   - Отчет по статистике фильмов за период.




